<!-- client.html (Client) -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>PeerJS Client</title>
    <script src="https://cdn.jsdelivr.net/npm/peerjs@1.3.2"></script>
</head>
<body>

<script>
    const peer = new Peer();  // Create a Peer object

    peer.on('open', (id) => {
        console.log('Client peer ID is: ' + id);

        const hostPeerId = window.location.search.split("?")[1];  // Replace with the actual host ID
        const connection = peer.connect(hostPeerId);

        connection.on('open', () => {
            console.log('Connection opened to host');
            connection.send('Hello from the client!');
        });

        connection.on('data', (data) => {
            console.log('Received data from host:', data);
        });
        document.getElementById("left").addEventListener("pointerdown", (event) => {
        document.getElementById("left").style.background = "white";
        connection.send("left")
    });
    document.getElementById("right").addEventListener("pointerdown", (event) => {
        document.getElementById("right").style.background = "white";
        connection.send("right")
    });
    document.getElementById("left").addEventListener("pointerup", (event) => {
        document.getElementById("left").style.background = "orange";
        connection.send("stopleft")
    });
    document.getElementById("right").addEventListener("pointerup", (event) => {
        document.getElementById("right").style.background = "orange";
        connection.send("stopright")
    });
    });
</script>



<div id="left" style="width:50%;height:100%;left:0%;top:0%;position:absolute;background:orange;border:solid;user-select:none;">



</div>
<div id="right" style="width:50%;height:100%;left:50%;top:0%;position:absolute;background:orange;border:solid;user-select:none;">


</div>


<script>

</script>

<style>
    body{
        overflow:hidden;
        touch-action: none;
        user-select:none;
    }
</style>

</body>
</html>
